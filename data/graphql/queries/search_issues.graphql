query SearchIssues($searchQuery: String!, $limit: Int = 10) {
    search(query: $searchQuery, type: ISSUE, first: $limit) {
        edges {
            node {
                __typename
                ...issueFields
                ...pullRequestFields
            }
        }
    }
}

fragment issueFields on Issue {
    databaseId
    number
    title
    url
    issueState: state
    assignees(first: 10) {
        nodes {
            login
        }
    }
    updatedAt
    createdAt
    labels(first: 10) {
        nodes {
            name
        }
    }
    repository {
        nameWithOwner
    }
}

fragment pullRequestFields on PullRequest {
    databaseId
    number
    title
    url
    pullRequestState: state
    updatedAt
    createdAt
    assignees(first: 10) {
        nodes {
            login
        }
    }
    labels(first: 10) {
        nodes {
            name
        }
    }
    repository {
        nameWithOwner
    }
}